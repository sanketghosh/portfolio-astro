---
// components
import MainLayout from "../layouts/main-layout.astro";
import ProjectSection from "../components/project-section.astro";
import BlogCard from "../components/blog-card.astro";
import Link from "../components/link.astro";

// packages
import type { CollectionEntry } from "astro:content";
import { getCollection } from "astro:content";
import Hero from "../components/hero.astro";

// ops
const allBlogArticles: CollectionEntry<"articles">[] = (
  await getCollection("articles")
)
  .sort(
    (a: CollectionEntry<"articles">, b: CollectionEntry<"articles">) =>
      b.data.publishDate.valueOf() - a.data.publishDate.valueOf(),
  )
  .slice(0, 3);
---

<MainLayout description="" title="">
  <main class="space-y-7 py-5">
    <div>
      <h2 class="mb-4 font-medium underline underline-offset-4">Whoami</h2>
      <p class="font-marcellus text-lg lg:text-xl">
        Primarily a web developer. Recently, I've been exploring the world of
        AI.
      </p>
    </div>

    <div class="">
      <h2 class="mb-4 font-medium underline underline-offset-4">Projects</h2>
      <ProjectSection />
    </div>

    <div>
      <h2 class="mb-4 font-medium underline underline-offset-4">
        Latest Wrtings
      </h2>
      <section class="w-full">
        <div class="space-y-3">
          {
            allBlogArticles.map((blog) => (
              <BlogCard
                title={blog.data.title}
                slug={blog.slug}
                date={blog.data.publishDate}
                className="lg:text-base"
              />
            ))
          }
        </div>
      </section>
    </div>
  </main>
</MainLayout>
